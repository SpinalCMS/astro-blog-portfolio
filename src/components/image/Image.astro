---
// modules
import sizeOf from 'image-size';

// data
import settings from '../../data/settings.json'

// props
export interface Props {
    file: string;
    classes?: string;
    alt?: string;
}
const { file, classes, alt } = Astro.props;

// build the file paths
let localUrl = `${settings.image.directory.local}${file}`;
let publicUrl = `/${settings.image.directory.public}${file}`;

// get the image dimensions
const dimensions = sizeOf(localUrl);
---

<img
    data-src={publicUrl}
    class={classes}
    alt={alt}
    width={dimensions.width}
    height={dimensions.height}
>